<script>
(function () {
  function injectHomeLink() {
    const link = document.createElement("a");
    link.href = "index.html";
    link.setAttribute("aria-label", "Back to Index");
    link.title = "Back to Index";

    // Positioning
    link.style.position = "absolute";
    link.style.bottom = "20px";
    link.style.left = "50%";
    link.style.transform = "translateX(-50%)";
    link.style.width = "28px";
    link.style.height = "28px";
    link.style.zIndex = "1000";
    link.style.display = "none";
    link.style.opacity = "0.75";
    link.style.cursor = "pointer";

    // Home icon image
    const img = document.createElement("img");
    img.src = "images/home.svg";
    img.alt = "Home";
    img.width = 28;
    img.height = 28;
    img.style.display = "block";

    link.appendChild(img);
    document.body.appendChild(link);

    // Hover feedback
    link.addEventListener("mouseenter", () => {
      link.style.opacity = "1";
      link.style.transform = "translateX(-50%) scale(2)";
    });

    link.addEventListener("mouseleave", () => {
      link.style.opacity = "0.75";
      link.style.transform = "translateX(-50%) scale(1)";
    });

    // Show only on title slide
    function updateVisibility() {
      if (document.body.classList.contains("title-slide")) {
        link.style.display = "block";
      } else {
        link.style.display = "none";
      }
    }

    updateVisibility();
    Reveal.on("slidechanged", updateVisibility);
    Reveal.on("ready", updateVisibility);
  }

  if (window.Reveal && Reveal.isReady()) {
    injectHomeLink();
  } else {
    document.addEventListener("DOMContentLoaded", function () {
      Reveal.on("ready", injectHomeLink);
    });
  }
})();
</script>

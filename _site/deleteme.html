<!DOCTYPE html>
<html>
<body>
<label>Frequency (Hz)</label>
<input type="range" min="50" max="4000" value="440" id="freq">
<button id="toggle">Play</button>

<script>
const ctx = new AudioContext();
const osc = ctx.createOscillator();
osc.type = "sine";
osc.frequency.value = 440;
osc.connect(ctx.destination);
osc.start();

let playing = false;

document.getElementById("toggle").onclick = async () => {
  await ctx.resume();   // required by Firefox
  playing = !playing;
  osc.frequency.value = freq.value;
  osc.connect(playing ? ctx.destination : ctx.createGain());
};

freq.oninput = () => osc.frequency.value = freq.value;
</script>
</body>
</html>
